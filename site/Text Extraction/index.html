



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>Text Extraction - Web Mining</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.750b69bd.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#text-extraction" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Web Mining" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Web Mining
            </span>
            <span class="md-header-nav__topic">
              Text Extraction
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Web Mining" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Web Mining
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Web Content Mining
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Web Content Mining
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../WebCrawling/" title="Crawling" class="md-nav__link">
      Crawling
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" title="Text Extraction" class="md-nav__link md-nav__link--active">
      Text Extraction
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Clustering/" title="Clustering" class="md-nav__link">
      Clustering
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Conclusion/" title="Conclusion" class="md-nav__link">
      Conclusion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Web Structure Mining
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Web Structure Mining
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Web Structure Mining/" title="Web Structure Mining" class="md-nav__link">
      Web Structure Mining
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Graph/" title="Graph" class="md-nav__link">
      Graph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Page Rank/" title="Page Rank" class="md-nav__link">
      Page Rank
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Getting Started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Start Mining/" title="Start Mining" class="md-nav__link">
      Start Mining
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../GraphCode/" title="Graph Code" class="md-nav__link">
      Graph Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Page Rank Code/" title="Page Rank Code" class="md-nav__link">
      Page Rank Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Complete Codes/" title="Complete Codes" class="md-nav__link">
      Complete Codes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="text-extraction"><strong>Text Extraction</strong></h1>
<blockquote>
<p>Muhammad Miftakhus Sobari</p>
<p>160411100045</p>
<p>Penambangan dan Pencarian Web</p>
<p>Teknik Informatika - Universitas Trunojoyo Madura</p>
<p>Pengampu : Mulaab, S.Si., M.Kom.</p>
</blockquote>
<p>In this occasion , we will use 2 methods for the Text Extraction :</p>
<ol>
<li>Stopword Remove </li>
</ol>
<p>Removing words that is not important and still searched by the search engine.</p>
<ol>
<li>Stemming</li>
</ol>
<p>Converting all words to the basic words</p>
<p>But before you do the tasks above , make sure you have installed Sastrawi library from Python. Make sure your computer is <strong>connected to the internet</strong> and then open your command prompt then type :</p>
<p><code>pip install sastrawi</code></p>
<p>Here is the code :</p>
<pre><code>from Sastrawi.Stemmer.StemmerFactory import StemmerFactory
from Sastrawi.StopWordRemover.StopWordRemoverFactory import StopWordRemoverFactory

def preprosesing(txt):
    SWfactory = StopWordRemoverFactory()
    stopword = SWfactory.create_stop_word_remover()
    stop = stopword.remove(txt)
    Sfactory = StemmerFactory()
    stemmer = Sfactory.create_stemmer()

    stem = stemmer.stem(stop)
    return stem
</code></pre>
<ul>
<li><em>Sastrawi</em> library will be used for Stopword Removal tasks when you are crawling website that use <strong>Indonesian Language</strong></li>
</ul>
<p>The code above will remove all the words that is not important and every words that is considered important will be converted into the basic words.</p>
<p>We have to count the important words above right now. </p>
<p>For example we have 2 documents :</p>
<ol>
<li>"Saya berbicara bahasa Indonesia ketika sedang berbicara dengan Ibu"</li>
<li>"Ibu saya tidak bisa bahasa selain Indonesia"</li>
</ol>
<p>The code below will make a VSM building table like this :</p>
<table>
<thead>
<tr>
<th>Document</th>
<th>Bicara</th>
<th>Bahasa</th>
<th>Indonesia</th>
<th>Ketika</th>
<th>Sedang</th>
<th>Dengan</th>
<th>Ibu</th>
<th>Tidak</th>
<th>Bisa</th>
<th>Selain</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<pre><code>def countWord(txt):
    d = dict()
    for i  in txt.split():
        if d.get(i) == None:
            d[i] = txt.count(i)
    return d

def add_row_VSM(d):
    VSM.append([])
    for i in VSM[0]:
        if d.get(i) == None:
            VSM[-1].append(0)
        else :
            VSM[-1].append(d.pop(i));
        for i in d:
            VSM[0].append(i)
            for j in range(1, len(VSM)-1):
                VSM[j].append(0)
            VSM[-1].append(d.get(i))
</code></pre>
<p>The countWord function above will count the word appear in each document , while the add_row_vsm function will create VSM matrix of the word above.</p>
<pre><code>cursor = conn.execute(&quot;SELECT * from Kata&quot;)
cursor = cursor.fetchall()
pertama = True
corpus = list()
c=1
for row in cursor:
    #print ('Proses : %.2f' %((c/len(cursor))*100) + '%'); c+=1
    txt = row[0]
    cleaned = preprosesing(txt)
    corpus.append(cleaned)
    d = countWord(cleaned)
    if pertama:
        pertama = False
        VSM = list((list(), list()))
        for key in d:
            VSM[0].append(key)
            VSM[1].append(d[key])
    else:
        add_row_VSM(d)
    #VSM[-1].append(row[2])
    #VSM[-1].append(row[3])
</code></pre>

<p>After this we have to write it to csv file to see the result :</p>
<pre><code>import csv

def write_csv(nama_file, isi, tipe='w'):
    with open(nama_file, mode=tipe) as tbl:
        tbl_writer = csv.writer(tbl, delimiter=',', quotechar='&quot;', quoting=csv.QUOTE_MINIMAL)
        for row in isi:
            tbl_writer.writerow(row)

with open('tableview.csv', mode='w') as tbl:
    tbl_writer = csv.writer(tbl, delimiter=',', quotechar='&quot;', quoting=csv.QUOTE_MINIMAL)
    for row in VSM:
        tbl_writer.writerow(row)

write_csv(&quot;bow_manual.csv&quot;, VSM)
</code></pre>

<p>The code above will generate a csv file that include your words that have been selected by VSM and write the frequency of each word appear in every document</p>
<p>TF - IDF</p>
<p>Tf-idf stands for <em>term frequency-inverse document frequency</em>, and the tf-idf weight is a weight often used in information retrieval and text mining. This weight is a statistical measure used to evaluate how important a word is to a document in a collection or corpus. The importance increases proportionally to the number of times a word appears in the document but is offset by the frequency of the word in the corpus. Variations of the tf-idf weighting scheme are often used by search engines as a central tool in scoring and ranking a document's relevance given a user query.</p>
<ul>
<li><strong>TF: Term Frequency</strong>, which measures how frequently a term occurs in a document. Since every document is different in length, it is possible that a term would appear much more times in long documents than shorter ones. Thus, the term frequency is often divided by the document length (aka. the total number of terms in the document) as a way of normalization: TF(t) = (Number of times term t appears in a document) / (Total number of terms in the document).</li>
<li><strong>IDF: Inverse Document Frequency</strong>, which measures how important a term is. While computing TF, all terms are considered equally important. However it is known that certain terms, such as "is", "of", and "that", may appear a lot of times but have little importance. Thus we need to weigh down the frequent terms while scale up the rare ones, by computing the following: IDF(t) = log_e(Total number of documents / Number of documents with term t in it).</li>
</ul>
<p>Install scikit-learn library using command prompt :</p>
<p><code>pip install scikit-learn</code></p>
<p>Here is the code , I use sklearn library to make it more easier :</p>
<pre><code>from sklearn.feature_extraction.text import CountVectorizer
from sklearn.feature_extraction.text import TfidfVectorizer

vectorizer = TfidfVectorizer()
tfidf_matrix = vectorizer.fit_transform(corpus)
feature_name = vectorizer.get_feature_names()

write_csv(&quot;tfidf.csv&quot;, [feature_name])
write_csv(&quot;tfidf.csv&quot;, tfidf_matrix.toarray(), 'a')
</code></pre>

<p>The code above will generate a csv file that write your word tf-idf value in each document.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../WebCrawling/" title="Crawling" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Crawling
              </span>
            </div>
          </a>
        
        
          <a href="../Clustering/" title="Clustering" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Clustering
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.39abc4af.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>